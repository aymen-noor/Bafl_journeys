# #------------------------------------------------------------Debit Card--------------------------------------------------------------
# # debit_menu
# - debit_card_menu
# # Option 1 of debit menu
# - debit_cards_conventional_banking
# # Options of debit card conventional banking
# - conventional_banking_bafl_visa_foreign_currency_debit_card
# - conventional_banking_bafl_visa_classic_debit_card
# - conventional_banking_bafl_visa_signature_debit_card
# - conventional_banking_bafl_visa_platinum_debit_card
# - conventional_banking_bafl_visa_gold_debit_card
# - conventional_banking_bafl_visa_pehchaan_debit_card
# - conventional_banking_bafl_paypak_classic_debit_card
# # Fixed options for each of conventional banking option
# # - Apply for Card
# # - Features & Benefits
# # - Limit and Annual Charges
# # - Talk to AI Assistant
# # Option 2 of debit menu
# - debit_cards_islamic_banking_
# #Options of debit card islamic banking
# - bafl_paypak_islamic_classic_debit_card
# - bafl_visa_islamic_signature_card
# - bafl_islamic_power_pack_women_debit_card
# - bafl_islamic_gold_women_debit_card
# - bafl_visa_islamic_foreign_currency_debit_card
# - bafl_islamic_power_pack_signature_debit_card
# - bafl_visa_islamic_classic_debit_card
# # Fixed options for each of islamic banking option
# # - Talk to AI Assistant
# # - Benefits & Features
# # - Limit & Annual Charges
# - apply_for_card
# - features_benefits
# - limit_and_annual_charges
# - talk_to_ai

#************************************************Debit Card Flow**********************************************************************
#************************************************Credit Card Flow**********************************************************************
# # credit card
# - credit_card_menu
# # Options of credit cards
# - bank_alfalah_mastercard_optimus_credit_card
# - bank_alfalah_visa_platinum_credit_card
# - bank_alfalah_visa_gold_credit_card
# - bank_alfalah_visa_classic_credit_card
# - bank_alfalah_american_express_card
# - bank_ultra_cashback_card
# # Fixed options for each of credit card option
# # - Apply for Card
# # - Features & Benefits
# # - Card Limit and Annual Charges
# # - Talk to AI Assistant

#************************************************Credit Card Flow**********************************************************************

#************************************************Form 4 Flow**********************************************************************

##Rosahan Digital Account (Form4)
# - roshan_digital_account_menu
# # Options of Roshan Digital Account
# - conventional_rda
# - islamic_rda
## Fixed options for each of Roshan Digital Account option
# # - Roshan Product
# # - Eligibility Criteria
# # - Feaures & Benefits
# # - Douments Required
# # - Talk to AI Assistant

#************************************************Form 4 Flow**********************************************************************

# #------------------------------------------------------------Personal Loan--------------------------------------------------------------
# # Fixed options for each of conventional banking option
# # - Product Offering
# # - Documents Required
# # - Eligibility Criteria
# # - Personal Loan Calculator
# # - Talk to AI Assistant

# #------------------------------------------------------------Auto Loan--------------------------------------------------------------
# # Fixed options for each of conventional banking option
# # - Product Offering
# # - Documents Required
# # - Eligibility Criteria
# # - Markup Rates
# # - Apply for Auto Loan
# # - Talk to AI Assistant

# #------------------------------------------------------------Home Finance--------------------------------------------------------------
# # Fixed options for each of conventional banking option
# # - Policy
# # - Documents Required
# # - Eligibility Criteria
# # - Markup Rates
# # - Apply for Auto Loan
# # - Talk to AI Assistant

# #------------------------------------------------------------Instant Loan--------------------------------------------------------------
# # Fixed options for each of conventional banking option
# # - Product Offering
# # - Documents Required
# # - Eligibility Criteria
# # - Markup Rates
# # - Apply for Auto Loan
# # - Talk to AI Assistant
## -----------------------------------------------------------------

# # Islamic Banking Path
# - rule: Handle Islamic Banking
#   condition:
#     - slot_was_set:
#         - menu_path: "debit_card_menu"
#   steps:
#     - intent: debit_cards_islamic_banking
#     - action: islamic_card_form 
#     - active_loop: islamic_card_form  

# - rule: Deactivate Islamic Card Form
#   condition:
#     - active_loop: islamic_card_form  
#   steps:
#       - action: islamic_card_form  
#       - active_loop: null
#       - action: action_show_json_response


version: "3.1"
rules:
# #****************************************************Credit Card*******************************************************************************
# - rule: Start Credit Card Flow
#   steps:
#   - intent: credit_card_menu
#   - action: 

# #***********************************************Reset Slots*************************************************************************
- rule: Reset slots 
  steps:
    - intent: reset_slots
    - action: action_reset_slots
#****************************************************Debit card flow************************************************************
- rule: Start Debit Card Flow
  steps:
    - intent: debit_card_menu
    - action: action_ask_main_menu
    - slot_was_set:
        - menu_path: "debit_card_menu"  
#*******************************************Conventional Banking***************************************************************************************

- rule: Handle Conventional Banking Selection
  steps:
    - intent: conventional_banking
    - slot_was_set:
      - banking_type: "conventional"
    - action: action_ask_conventional_card_type

- rule: Handle Conventional Card Type
  condition:
    - slot_was_set:
      - banking_type: "conventional"
  steps:
    - intent: conventional_card_type
    - action: action_set_conventional_card_type
    - action: action_ask_conventional_card_action


- rule: Handle Conventional Card Flow
  condition:
    - slot_was_set:
      - conventional_card_type: true
  steps:
  - intent: conventional_card_action
  - action: action_set_conventional_card_action
  - action: action_show_json_response

#************************************************Islamic Banking************************************************************
- rule: Handle Islamic Banking Selection
  steps:
    - intent: islamic_banking
    - slot_was_set:
      - banking_type: "islamic"
    - action: action_ask_islamic_card_type

- rule: Handle Islamic Card Type
  condition:
    - slot_was_set:
      - banking_type: "islamic"
  steps:
    - intent: islamic_card_type
    - action: action_set_islamic_card_type
    - action: action_ask_islamic_card_action


- rule: Handle Islamic Card Flow
  condition:
    - slot_was_set:
      - islamic_card_type: true
  steps:
  - intent: islamic_card_action
  - action: action_set_islamic_card_action
  - action: action_show_json_response